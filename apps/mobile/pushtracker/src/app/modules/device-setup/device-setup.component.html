<GridLayout rows="auto, *" class="device-setup-layout">
    <Label row="0" col="1" [text]="'device-setup.title' | translate" class="page-title" textWrap="true"></Label>
    <GridLayout row="1" col="0" rows="auto, auto, auto, auto" cols="*" paddingTop="20">

        // Main Lottie
        <StackLayout *ngIf="slide && slide['Image']" (loaded)="onTopSlideLoaded($event)"
            class="topSlide" row="0" width="100%" height="40%" orientation="horizontal" horizontalAlignment="center">
            // only shows when the slide.Image is a gif
            <Gif (loaded)="onGifLoaded($event)" *ngIf="isGif(slide['Image'])"
                [src]="slide['Image']"></Gif>
            // show only when not a gif
            <image *ngIf="!isGif(slide['Image'])" [src]="slide['Image']" stretch="aspectFit">
            </image>
        </StackLayout>

        // Bullets Title
        <StackLayout *ngIf="slide && slide['Image']"
            row="1" width="100%" horizontalAlignment="center">
            <label [text]="slide['Label']" class="slideLowerLabel" textWrap="true"></label>
        </StackLayout>

        <StackLayout class="hr-light" row="2"></StackLayout>

        <ScrollView *ngIf="slide" row="3" class="lowerSlide" height="45%">
            <StackLayout>
                <StackLayout orientation="horizontal">
                    <Label textWrap="true"
                      class="bullet-next-to-lottie"
                      width="80%"
                      [text]="slide['IconText']"></Label>
                    <pushtracker-status-button
                      verticalAlignment="middle"
                      marginLeft="-5"
                      *ngIf="user?.data.control_configuration === CONFIGURATIONS.PUSHTRACKER_WITH_SMARTDRIVE">
                    </pushtracker-status-button>
                    <e2-status-button
                      verticalAlignment="middle"
                      [allowUserInteraction]="false"
                      marginLeft="-5"
                      *ngIf="user?.data.control_configuration === CONFIGURATIONS.PUSHTRACKER_E2_WITH_SMARTDRIVE">
                    </e2-status-button>
                </StackLayout>
                <label [text]="isAndroid ? slide['AndroidText'] : slide['IOSText']" class="bullet" textWrap="true"></label>
                <StackLayout row="0" horizontalAlignment="center">
                    <StackLayout orientation="horizontal">
                        <LottieView
                          height="50"
                          width="75"
                          verticalAlignment="center"
                          horizontalAlignment="center"
                          [src]="CURRENT_THEME === APP_THEMES.DEFAULT ? 'bluetooth_default.json' : 'bluetooth_dark.json'"
                          loop="true" autoPlay="true" *ngIf="!showDoneButton && slide"></LottieView>
                        <LottieView
                          height="50"
                          width="50"
                          verticalAlignment="center"
                          horizontalAlignment="center"
                          src="success.json"
                          loop="false" autoPlay="true" *ngIf="showDoneButton"></LottieView>
                        <Label
                            [marginLeft]="showDoneButton ? 0 : -20"
                            verticalAlignment="center"
                            horizontalAlignment="center"
                          class="device-setup-status-label"
                          textWrap="true"
                            [text]="statusMessage"></Label>
                    </StackLayout>

                    <button *ngIf="user?.data.control_configuration === CONFIGURATIONS.PUSHTRACKER_E2_WITH_SMARTDRIVE && !isAndroid"
                            horizontalAlignment="center"
                            class="permobil-green-btn"
                            height="30%" [text]="'device-setup.e2.repair' | translate"
                            [visibility]="hasPairedE2 ? 'visible':'collapsed'"
                            (tap)="pairPushTrackerE2()">
                    </button>
                    <button horizontalAlignment="center"
                        [class]="showDoneButton ? 'permobil-green-btn' : 'permobil-grey-button'"
                        height="30%" [text]="showDoneButton ? doneButtonText : doLaterButtonText"
                        (tap)="showDoneButton ? onDoneTap($event) : onSkipTap($event)">
                    </button>
                </StackLayout>
            </StackLayout>
        </ScrollView>
    </GridLayout>
</GridLayout>
