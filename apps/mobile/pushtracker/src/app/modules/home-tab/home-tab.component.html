<ScrollView class="home-tab-layout" orientation="vertical" isEnabled="true" width="100%" height="100%">
  <StackLayout>
    // Mock ActionBar
    <MockActionBar [showBackNav]="false" [showInfoBtn]="true"></MockActionBar>

    // Activity Circles
    <GridLayout ripple rippleColorAlpha="0.18" rows="*, auto, *" columns="*, auto, *" height="240" width="100%"
      (tap)="onActivityTap()">
      // Distance Circle (outer/purple)
      <AnimatedCircle id="distanceCircle" rowSpan="3" colSpan="3" width="98%" height="98%" animated="true"
        animateFrom="0" clockwise="true" rimWidth="10" barWidth="28" [progress]="distanceCirclePercentage">
      </AnimatedCircle>
      // Coast Time Circle (inner/teal)
      <AnimatedCircle id="coastTimeCircle" rowSpan="3" colSpan="3" width="83%" height="83%" animated="true"
        animateFrom="0" clockwise="true" rimWidth="10" barWidth="28" [progress]="coastTimeCirclePercentage">
      </AnimatedCircle>
      <GridLayout row="1" col="1" rows="auto, *, auto" columns="auto, *, auto" class="distance-remaining-circle">
        <Label row="1" col="1" [text]="distanceRemainingText" textWrap="true"></Label>
      </GridLayout>
    </GridLayout>

    // Percentage Data Details
    <GridLayout class="percentage-data-layout" height="120" rows="*, *" columns="*, auto, auto, 20, auto, auto, *">
      // cousteau circle for coast-time values
      <StackLayout row="0" rowSpan="2" col="1" class="cousteau-circle">
        <Label text="&#xe5cc;"></Label>
      </StackLayout>

      <GridLayout row="0" rowSpan="2" col="2" rows="auto, auto" columns="*, auto, *">
        <Label row="0" col="0" class="value" [text]="weeklyActivityLoaded ? todayCoastTime : 0"></Label>
        <Label row="0" col="1" class="max-value" [text]="coastTimeCirclePercentageMaxValue"></Label>
        <Label row="1" col="0" colSpan="3" class="description" [text]="'general.coast-time' | translate"></Label>
      </GridLayout>

      // violet-circle for distance values
      <StackLayout row="0" rowSpan="2" col="4" class="violet-circle">
        <Label text="&#xe5cc;"></Label>
      </StackLayout>

      <GridLayout row="0" rowSpan="2" col="5" rows="auto, auto" columns="*, auto, *">
        <Label row="0" col="0" class="value" [text]="distanceCirclePercentage"></Label>
        <Label row="0" col="1" class="max-value" [text]="distanceCirclePercentageMaxValue"></Label>
        <Label row="1" col="0" colSpan="3" class="description" [text]="'general.distance' | translate"></Label>
      </GridLayout>
    </GridLayout>

    // Detailed Data
    <GridLayout rows="auto, auto" columns="*, *, *, *, *" class="detail-data">
      // push count data
      <Label row="0" col="0" class="detail-value" [text]="weeklyActivityLoaded ? todayPushCount : 0"></Label>
      <Label row="1" col="0" class="detail-description" [text]="'general.pushes' | translate"></Label>
      // coast time data
      <Label row="0" col="2" class="detail-value" [text]="weeklyActivityLoaded ? todayCoastTime : 0"></Label>
      <Label row="1" col="2" class="detail-description" [text]="'general.coast-time' | translate"></Label>
      // distance data
      <Label row="0" col="4" class="detail-value" [text]="weeklyActivityLoaded ? distanceData : 0"></Label>
      <Label row="1" col="4" class="detail-description" [text]="'general.miles' | translate"></Label>
    </GridLayout>

    <!-- Week View Coast Time -->
    <ActivityIndicator height="10%" width="10%" *ngIf="!weeklyActivityLoaded" 
        [color]="savedTheme === 'DEFAULT' ? '#753bbd' : '#00c1d5'" busy="true"></ActivityIndicator>
    <StackLayout *ngIf="weeklyActivityLoaded">
      <GridLayout row="0" rows="auto" cols="auto">
        <Label row="0" col="1" marginTop="17" class="title" horizontalAlignment="center" justifyContent="center" [text]="coastTimeGoalMessage"></Label>
      </GridLayout>
      <RadCartesianChart row="1" id="homeTabWeeklyCoastTimeChart">
        <RadCartesianChartGrid tkCartesianGrid horizontalLinesVisible="true" verticalLinesVisible="false"
          horizontalStripLinesVisible="false" verticalStripLinesVisible="false"> </RadCartesianChartGrid>
        <CategoricalAxis tkCartesianHorizontalAxis [labelTextColor]="savedTheme == 'DARK' ? 'White' : 'Black'" lineHidden="true" tickHidden="false" majorTickInterval="1" labelSize="12" labelMargin="20" tickLength="1" labelFitMode="Multiline" plotMode="OnTicks"> </CategoricalAxis>
        <LinearAxis tkCartesianVerticalAxis id="vAxis" [labelTextColor]="savedTheme == 'DARK' ? 'White' : 'Black'" 
          horizontalLocation="Right" labelMargin="10" lineHidden="true" 
          [maximum]="yAxisMax" minumum="1" [majorStep]="yAxisStep" labelFormat="%.0f"></LinearAxis>
        <BarSeries tkCartesianSeries  [items]="weeklyActivity" seriesName="WeeklyActivity" categoryProperty="xAxis" valueProperty="coastTime"> </BarSeries>
        <Palette tkCartesianPalette seriesName="WeeklyActivity">
          <PaletteEntry tkCartesianPaletteEntry [fillColor]="savedTheme === 'DEFAULT' ? '#753bbd' : '#00c1d5'"
            [strokeColor]="savedTheme === 'DEFAULT' ? '#753bbd' : '#00c1d5'"></PaletteEntry>
        </Palette>  
        <ChartGridLineAnnotation tkCartesianAnnotations axisId="vAxis" hidden="false"
          [value]="weeklyActivityAnnotationValue" zPosition="AboveSeries" strokeWidth="1"
          [strokeColor]="savedTheme === 'DEFAULT' ? '#753bbd' : '#00c1d5'" strokeDashPattern="3, 3">
        </ChartGridLineAnnotation>
      </RadCartesianChart>
    </StackLayout>

  </StackLayout>
</ScrollView>